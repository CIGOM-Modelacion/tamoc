<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>stratified_plume_model.outer_main &mdash; Texas A&amp;M Oilspill Calculator v0.1 Manual</title>
    
    <link rel="stylesheet" href="../_static/scipy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.13',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Texas A&amp;M Oilspill Calculator v0.1 Manual" href="../contents.html" />
    <link rel="up" title="Reference" href="../modules/reference.html" />
    <link rel="next" title="stratified_plume_model.err_check" href="stratified_plume_model.err_check.html" />
    <link rel="prev" title="stratified_plume_model.inner_main" href="stratified_plume_model.inner_main.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="stratified_plume_model.err_check.html" title="stratified_plume_model.err_check"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="stratified_plume_model.inner_main.html" title="stratified_plume_model.inner_main"
             accesskey="P">previous</a> |</li>
<li><a href="../index.html">Texas A&M Oilspill Calculator v0.1 Manual</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../modules/reference.html" accesskey="U">Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="stratified-plume-model-outer-main">
<h1>stratified_plume_model.outer_main<a class="headerlink" href="#stratified-plume-model-outer-main" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Release:</th><td class="field-body">0.1</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">June 26, 2015</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="stratified_plume_model.outer_main">
<code class="descclassname">stratified_plume_model.</code><code class="descname">outer_main</code><span class="sig-paren">(</span><em>yi</em>, <em>yo</em>, <em>particles</em>, <em>profile</em>, <em>p</em>, <em>neighbor</em>, <em>delta_z</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/numpy/numpy/blob/v1.9.2/numpy/../../../../../../../../Dropbox/socolofs/projects/NFBC/tamoc/tamoc/stratified_plume_model.py#L1156"><span class="viewcode-link">[source]</span></a><a class="reference internal" href="../_modules/stratified_plume_model.html#outer_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stratified_plume_model.outer_main" title="Permalink to this definition">¶</a></dt>
<dd><p>Manage the integration of the outer plume segments</p>
<p>Calculates the outer plume solution, creates the appropriate <em class="xref py py-obj">neighbor</em>
interpolation object, and returns the complete solution</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>yi</strong> : <a class="reference internal" href="stratified_plume_model.InnerPlume.html#stratified_plume_model.InnerPlume" title="stratified_plume_model.InnerPlume"><code class="xref py py-obj docutils literal"><span class="pre">InnerPlume</span></code></a> object</p>
<blockquote>
<div><p>Object containing the inner plume state space and methods to extract
the state space variables.</p>
</div></blockquote>
<p><strong>yo</strong> : <a class="reference internal" href="stratified_plume_model.OuterPlume.html#stratified_plume_model.OuterPlume" title="stratified_plume_model.OuterPlume"><code class="xref py py-obj docutils literal"><span class="pre">OuterPlume</span></code></a> object</p>
<blockquote>
<div><p>Object containing the outer plume state space and methods to extract
the state space variables.</p>
</div></blockquote>
<p><strong>particles</strong> : list of <a class="reference internal" href="../modules/disp_phases.html#dispersed_phases.PlumeParticle" title="dispersed_phases.PlumeParticle"><code class="xref py py-obj docutils literal"><span class="pre">dispersed_phases.PlumeParticle</span></code></a> objects</p>
<blockquote>
<div><p>List of <a class="reference internal" href="../modules/disp_phases.html#dispersed_phases.PlumeParticle" title="dispersed_phases.PlumeParticle"><code class="xref py py-obj docutils literal"><span class="pre">dispersed_phases.PlumeParticle</span></code></a> objects containing the 
dispersed phase local conditions and behavior.</p>
</div></blockquote>
<p><strong>profile</strong> : <a class="reference internal" href="../modules/ambient.html#ambient.Profile" title="ambient.Profile"><code class="xref py py-obj docutils literal"><span class="pre">ambient.Profile</span></code></a> object</p>
<blockquote>
<div><p>The ambient CTD object used by the simulation.</p>
</div></blockquote>
<p><strong>p</strong> : <a class="reference internal" href="stratified_plume_model.ModelParams.html#stratified_plume_model.ModelParams" title="stratified_plume_model.ModelParams"><code class="xref py py-obj docutils literal"><span class="pre">ModelParams</span></code></a> object</p>
<blockquote>
<div><p>Object containing the fixed model parameters for the stratified 
plume model.</p>
</div></blockquote>
<p><strong>neighbor</strong> : <code class="xref py py-obj docutils literal"><span class="pre">scipy.interpolate.interp1d</span></code> object</p>
<blockquote>
<div><p>Container holding the latest solution for the inner plume state
space.</p>
</div></blockquote>
<p><strong>delta_z</strong> : float</p>
<blockquote>
<div><p>Maximum step size to use in the simulation (m).  The ODE solver 
in <em class="xref py py-obj">calculate</em> is set up with adaptive step size integration, so 
in theory this value determines the largest step size in the 
output data, but not the numerical stability of the calculation.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>z</strong> : ndarray</p>
<blockquote>
<div><p>Vector of elevations where the outer plume solution is obtained (m).</p>
</div></blockquote>
<p><strong>y</strong> : ndarray</p>
<blockquote>
<div><p>Matrix of outer plume state space solutions.  Each row corresponds to
a depth in z.</p>
</div></blockquote>
<p><strong>neighbor</strong> : <code class="xref py py-obj docutils literal"><span class="pre">scipy.interpolate.interp1d</span></code> object</p>
<blockquote class="last">
<div><p>An updated neighbor interpolation object with the outer plume solution
ready to use with integration of the inner plume.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>There can be many outer plume segments, each associated with a localized, 
intense area of detrainment from the inner plume.  Each of these outer 
plume segments generally stop at a level of neutral buoyancy before 
reaching the next segment, so they will each need to have an independent
integration.  Thus, this function contains an iteration loop that 
terminates when the plume has been integrated from the top to the bottom
of the inner plume.</p>
<p>Once an outer plume segment stops at a level of neutral buoyancy, this
function searches for the next outer plume by collecting detrained fluid
over a length of inner plume equal to <em class="xref py py-obj">nwidths</em> times the half-width and
attempts to start an integration.  If the negative buoyancy of that 
fluid is inadequate to overcome the upward drag of the inner plume, then
the outer plume is said to be &#8220;not viable,&#8221; and the algorithm attemps to
do this again with the next <em class="xref py py-obj">nwidths</em> of detrained water.  Once the 
outer plume segment becomes viable, those initial conditions are passed
to the <a class="reference internal" href="smp.calculate.html#smp.calculate" title="smp.calculate"><code class="xref py py-obj docutils literal"><span class="pre">smp.calculate</span></code></a> function, and the outer plume is integrated to
neutral buoyancy.  This succession of steps repeats until the bottom of
the inner plume is reached.</p>
<p>When dissolution in the inner plume is large enough that the detained 
fluid is heavier than ambient (e.g., enriched by CO2 such that the 
solution is not dilute), then outer plume segments can tend to overlap.
In this case, also, the lowest outer plume segment may descend beyond
the starting point of the inner plume.  This function assumes that the
bottom of the CTD cast indicates the sea floor; hence, integration 
always stops at the sea bottom.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../contents.html">
              <img class="logo" src="../_static/logo_holder.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="stratified_plume_model.inner_main.html"
                        title="previous chapter">stratified_plume_model.inner_main</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="stratified_plume_model.err_check.html"
                        title="next chapter">stratified_plume_model.err_check</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/spm/stratified_plume_model.outer_main.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<ul class="this-page-menu">
  <li><a href="/numpy/docs/numpy-docs/spm/stratified_plume_model.outer_main.rst">Edit page</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Scott A. Socolofsky.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.3</a>
      
      |
      <a href="../_sources/spm/stratified_plume_model.outer_main.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>
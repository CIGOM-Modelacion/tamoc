<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Overview of Stratified Plume Model Module &mdash; Texas A&amp;M Oilspill Calculator v0.1 Manual</title>
    
    <link rel="stylesheet" href="../_static/scipy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.14',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Texas A&amp;M Oilspill Calculator v0.1 Manual" href="../contents.html" />
    <link rel="up" title="Reference" href="reference.html" />
    <link rel="prev" title="single_bubble_model.plot_state_space" href="../sbm/single_bubble_model.plot_state_space.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../sbm/single_bubble_model.plot_state_space.html" title="single_bubble_model.plot_state_space"
             accesskey="P">previous</a> |</li>
<li><a href="../index.html">Texas A&M Oilspill Calculator v0.1 Manual</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="reference.html" accesskey="U">Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="overview-of-stratified-plume-model-module">
<h1>Overview of Stratified Plume Model Module<a class="headerlink" href="#overview-of-stratified-plume-model-module" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Release:</th><td class="field-body">0.1</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">July 10, 2015</td>
</tr>
</tbody>
</table>
<span class="target" id="module-stratified_plume_model"></span><div class="section" id="stratified-plume-model">
<h2>Stratified Plume Model<a class="headerlink" href="#stratified-plume-model" title="Permalink to this headline">¶</a></h2>
<p>Simulate a buoyant plume in stratification dominate or quiescent conditions</p>
<p>This module defines the classes, methods, and functions necessary to simulate
the buoyant plume behavior in stratification dominant conditions, where the
effects of crossflows are negligible. The ambient water properties are
provided through an <a class="reference internal" href="ambient.html#ambient.Profile" title="ambient.Profile"><code class="xref py py-obj docutils literal"><span class="pre">ambient.Profile</span></code></a> class object, which contains a
netCDF4-classic dataset of CTD data and the needed interpolation methods. The
<a class="reference internal" href="dbm.html#module-dbm" title="dbm"><code class="xref py py-obj docutils literal"><span class="pre">dbm</span></code></a> class objects <a class="reference internal" href="dbm.html#dbm.FluidParticle" title="dbm.FluidParticle"><code class="xref py py-obj docutils literal"><span class="pre">dbm.FluidParticle</span></code></a> and <a class="reference internal" href="dbm.html#dbm.InsolubleParticle" title="dbm.InsolubleParticle"><code class="xref py py-obj docutils literal"><span class="pre">dbm.InsolubleParticle</span></code></a> report the
properties of the dispersed phase during the simulation, and these methods 
are provided to the model through the objects defined in <a class="reference internal" href="disp_phases.html#module-dispersed_phases" title="dispersed_phases"><code class="xref py py-obj docutils literal"><span class="pre">dispersed_phases</span></code></a>.</p>
<div class="section" id="notes">
<h3>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h3>
<p>This model is a double plume integral model following the approach in
Socolofsky et al. (2008), but including the capability to have an arbitrary
number of dispersed phases, each with its own particle size distribution.</p>
<p>Detrainment to for subsurface intrusions follows the approach in Crounse
(2000).</p>
</div>
<div class="section" id="see-also">
<h3>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><a class="reference internal" href="sbm.html#module-single_bubble_model" title="single_bubble_model"><code class="xref py py-obj docutils literal"><span class="pre">single_bubble_model</span></code></a> <span class="classifier-delimiter">:</span> <span class="classifier">Tracks the trajectory of a single bubble, drop or </span></dt>
<dd>particle through the water column.  The numerical solution used here, 
including the various object types and their functionality, follows the
pattern in the <a class="reference internal" href="sbm.html#module-single_bubble_model" title="single_bubble_model"><code class="xref py py-obj docutils literal"><span class="pre">single_bubble_model</span></code></a>.  The main difference is the more
complex state space and governing equations.</dd>
</dl>
</div>
</div>
<div class="section" id="class-objects">
<h2>Class Objects<a class="headerlink" href="#class-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="stratified_plume_model.Model">
<em class="property">class </em><code class="descclassname">stratified_plume_model.</code><code class="descname">Model</code><span class="sig-paren">(</span><em>profile=None</em>, <em>simfile=None</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/numpy/numpy/blob/v1.9.2/numpy/../../../../../../../../Dropbox/socolofs/projects/NFBC/tamoc/tamoc/stratified_plume_model.py#L56"><span class="viewcode-link">[source]</span></a><a class="reference internal" href="../_modules/stratified_plume_model.html#Model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stratified_plume_model.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Master class object for controlling and post-processing the simulation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>profile</strong> : <a class="reference internal" href="ambient.html#ambient.Profile" title="ambient.Profile"><code class="xref py py-obj docutils literal"><span class="pre">ambient.Profile</span></code></a> object, default = None</p>
<blockquote>
<div><p>An object containing the ambient CTD data and associated methods.  
The netCDF dataset stored in the <a class="reference internal" href="ambient.html#ambient.Profile" title="ambient.Profile"><code class="xref py py-obj docutils literal"><span class="pre">ambient.Profile</span></code></a> object may be open 
or closed at instantiation.  If open, the initializer will close the 
file since this model does not support changing the ambient data once 
initialized.</p>
</div></blockquote>
<p><strong>simfile: str, default = None</strong></p>
<blockquote class="last">
<div><p>File name of a netCDF file containing the results of a previous 
simulation run.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../spm/stratified_plume_model.Model.simulate.html#stratified_plume_model.Model.simulate" title="stratified_plume_model.Model.simulate"><code class="xref py py-obj docutils literal"><span class="pre">simulate</span></code></a>, <a class="reference internal" href="../spm/stratified_plume_model.Model.save_sim.html#stratified_plume_model.Model.save_sim" title="stratified_plume_model.Model.save_sim"><code class="xref py py-obj docutils literal"><span class="pre">save_sim</span></code></a>, <a class="reference internal" href="../spm/stratified_plume_model.Model.load_sim.html#stratified_plume_model.Model.load_sim" title="stratified_plume_model.Model.load_sim"><code class="xref py py-obj docutils literal"><span class="pre">load_sim</span></code></a>, <a class="reference internal" href="../spm/stratified_plume_model.plot_state_space.html#stratified_plume_model.plot_state_space" title="stratified_plume_model.plot_state_space"><code class="xref py py-obj docutils literal"><span class="pre">plot_state_space</span></code></a>, <a class="reference internal" href="../spm/stratified_plume_model.plot_all_variables.html#stratified_plume_model.plot_all_variables" title="stratified_plume_model.plot_all_variables"><code class="xref py py-obj docutils literal"><span class="pre">plot_all_variables</span></code></a></p>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="96%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>profile</td>
<td>(<a class="reference internal" href="ambient.html#ambient.Profile" title="ambient.Profile"><code class="xref py py-obj docutils literal"><span class="pre">ambient.Profile</span></code></a>) Ambient CTD data</td>
</tr>
<tr class="row-even"><td>got_profile</td>
<td>(bool) Flag indicating whether or not the profile object was successfully loaded into the <a class="reference internal" href="../spm/stratified_plume_model.Model.html#stratified_plume_model.Model" title="stratified_plume_model.Model"><code class="xref py py-obj docutils literal"><span class="pre">Model</span></code></a> object memory.    p : <a class="reference internal" href="../spm/stratified_plume_model.ModelParams.html#stratified_plume_model.ModelParams" title="stratified_plume_model.ModelParams"><code class="xref py py-obj docutils literal"><span class="pre">ModelParams</span></code></a> Container for the fixed model parameters</td>
</tr>
<tr class="row-odd"><td>sim_stored</td>
<td>(bool) Flag indicating whether or not a simulation result is stored in the object memory</td>
</tr>
<tr class="row-even"><td>particles</td>
<td>(list) List of <a class="reference internal" href="disp_phases.html#dispersed_phases.PlumeParticle" title="dispersed_phases.PlumeParticle"><code class="xref py py-obj docutils literal"><span class="pre">dispersed_phases.PlumeParticle</span></code></a> objects describing each dispersed phase in the simulation</td>
</tr>
<tr class="row-odd"><td>K_T0</td>
<td>(ndarray) Array of the initial values of K_T for each of the dispersed phase particles.  Since this solution is iterative, heat transfer needs to be re-initialized at the start of each iteration, and thus, it is not sufficient to rely on the value of K_T stored inside the <em class="xref py py-obj">particles</em> list.</td>
</tr>
<tr class="row-even"><td>R</td>
<td>(float) Radius of the release point (m)</td>
</tr>
<tr class="row-odd"><td>maxit</td>
<td>(float) Maximum number of iterations allowed in the interative solution</td>
</tr>
<tr class="row-even"><td>toler</td>
<td>(float) Relative error sufficient to consider the iterative solution to have converged</td>
</tr>
<tr class="row-odd"><td>delta_z</td>
<td>(float) Maximum step size to take in the storage of the simulation solution (m)</td>
</tr>
<tr class="row-even"><td>chem_names</td>
<td>(list) List of chemical parameters to track for the dissolution</td>
</tr>
<tr class="row-odd"><td>zi</td>
<td>(ndarray) Array of depths for the inner plume solution (m)</td>
</tr>
<tr class="row-even"><td>yi</td>
<td>(ndarray) Array of state space values computed for the inner plume solution</td>
</tr>
<tr class="row-odd"><td>zo</td>
<td>(ndarray) Array of depths for the outer plume solution (m)</td>
</tr>
<tr class="row-even"><td>yo</td>
<td>(ndarray) Array of state space values computed for the outer plume solution</td>
</tr>
<tr class="row-odd"><td>yi_local</td>
<td>(<a class="reference internal" href="../spm/stratified_plume_model.InnerPlume.html#stratified_plume_model.InnerPlume" title="stratified_plume_model.InnerPlume"><code class="xref py py-obj docutils literal"><span class="pre">InnerPlume</span></code></a> object) Object that translates the <em class="xref py py-obj">yi</em> state space into the comprehensive list of derived variables.</td>
</tr>
<tr class="row-even"><td>yo_local</td>
<td>(<a class="reference internal" href="../spm/stratified_plume_model.OuterPlume.html#stratified_plume_model.OuterPlume" title="stratified_plume_model.OuterPlume"><code class="xref py py-obj docutils literal"><span class="pre">OuterPlume</span></code></a> object) Object that translates the <em class="xref py py-obj">yo</em> state space into the comprehensive list of derived variables.</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../spm/stratified_plume_model.Model.load_sim.html#stratified_plume_model.Model.load_sim" title="stratified_plume_model.Model.load_sim"><code class="xref py py-obj docutils literal"><span class="pre">load_sim</span></code></a>(fname)</td>
<td>Load in a saved simulation result file for post-processing</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../spm/stratified_plume_model.Model.plot_all_variables.html#stratified_plume_model.Model.plot_all_variables" title="stratified_plume_model.Model.plot_all_variables"><code class="xref py py-obj docutils literal"><span class="pre">plot_all_variables</span></code></a>(fig)</td>
<td>Plot a comprehensive suite of simulation results</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../spm/stratified_plume_model.Model.plot_state_space.html#stratified_plume_model.Model.plot_state_space" title="stratified_plume_model.Model.plot_state_space"><code class="xref py py-obj docutils literal"><span class="pre">plot_state_space</span></code></a>(fig)</td>
<td>Plot the simulation state space</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../spm/stratified_plume_model.Model.save_sim.html#stratified_plume_model.Model.save_sim" title="stratified_plume_model.Model.save_sim"><code class="xref py py-obj docutils literal"><span class="pre">save_sim</span></code></a>(fname,&nbsp;profile_path,&nbsp;profile_info)</td>
<td>Save the current simulation results</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../spm/stratified_plume_model.Model.save_txt.html#stratified_plume_model.Model.save_txt" title="stratified_plume_model.Model.save_txt"><code class="xref py py-obj docutils literal"><span class="pre">save_txt</span></code></a>(base_name,&nbsp;profile_path,&nbsp;profile_info)</td>
<td>Save the state space in ascii text format for exporting</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../spm/stratified_plume_model.Model.simulate.html#stratified_plume_model.Model.simulate" title="stratified_plume_model.Model.simulate"><code class="xref py py-obj docutils literal"><span class="pre">simulate</span></code></a>(particles,&nbsp;z,&nbsp;R[,&nbsp;maxit,&nbsp;toler,&nbsp;...])</td>
<td>Simulate the plume dynamics from given initial conditions</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="stratified_plume_model.ModelParams">
<em class="property">class </em><code class="descclassname">stratified_plume_model.</code><code class="descname">ModelParams</code><span class="sig-paren">(</span><em>profile</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/numpy/numpy/blob/v1.9.2/numpy/../../../../../../../../Dropbox/socolofs/projects/NFBC/tamoc/tamoc/stratified_plume_model.py#L627"><span class="viewcode-link">[source]</span></a><a class="reference internal" href="../_modules/stratified_plume_model.html#ModelParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stratified_plume_model.ModelParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Fixed model parameters for the stratified plume model</p>
<p>This class stores the set of model parameters that should not be adjusted
by the user and that are needed by the stratified plume model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>profile</strong> : <a class="reference internal" href="ambient.html#ambient.Profile" title="ambient.Profile"><code class="xref py py-obj docutils literal"><span class="pre">ambient.Profile</span></code></a> object</p>
<blockquote class="last">
<div><p>The ambient CTD object used by the simulation.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This object inherits the <a class="reference internal" href="../sbm/single_bubble_model.ModelParams.html#single_bubble_model.ModelParams" title="single_bubble_model.ModelParams"><code class="xref py py-obj docutils literal"><span class="pre">single_bubble_model.ModelParams</span></code></a> object, which
defines the attribute <em class="xref py py-obj">rho_r</em>.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>rho_r</td>
<td>(float) Reference density (kg/m^3) evaluated at mid-depth of the water body.</td>
</tr>
<tr class="row-even"><td>alpha_1</td>
<td>(float) entrainment coefficient from the ambient fluid to the inner plume</td>
</tr>
<tr class="row-odd"><td>alpha_2</td>
<td>(float) entrainment coefficient from the inner plume to the outer plume</td>
</tr>
<tr class="row-even"><td>alpha_3</td>
<td>(float) entrainment coefficient from the ambient fluid to the outer plume</td>
</tr>
<tr class="row-odd"><td>lambda_2</td>
<td>(float) spreading rate of dissolved constituents</td>
</tr>
<tr class="row-even"><td>epsilon</td>
<td>(float) continuous peeling parameter (see Crounse 2000)</td>
</tr>
<tr class="row-odd"><td>c1</td>
<td>(float) coefficient for counterflow entrainment model</td>
</tr>
<tr class="row-even"><td>c2</td>
<td>(float) coefficient for counterflow entrainment model</td>
</tr>
<tr class="row-odd"><td>fe</td>
<td>(float) extra entrainment factor when the inner plume hits the free surface</td>
</tr>
<tr class="row-even"><td>gamma_i</td>
<td>(float) momentum amplification factor for inner plume (see Milgram 1983)</td>
</tr>
<tr class="row-odd"><td>gamma_o</td>
<td>(float) momentum amplification factor for outer plume</td>
</tr>
<tr class="row-even"><td>Fr_0</td>
<td>(float) initial plume Froude number (see Wueest et al. 1992)</td>
</tr>
<tr class="row-odd"><td>Fro_0</td>
<td>(float) initial plume Froude number for outer plume segments</td>
</tr>
<tr class="row-even"><td>nwidths</td>
<td>(float) average size of detraining eddies as a fraction of the plume half-width</td>
</tr>
<tr class="row-odd"><td>naverage</td>
<td>(float) number of previous outer plume solutions to average</td>
</tr>
<tr class="row-even"><td>g</td>
<td>(float) acceleration of gravity (m/s^2)</td>
</tr>
<tr class="row-odd"><td>Ru</td>
<td>(float) universal ideal gas constant (J/(mol K))</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="stratified_plume_model.InnerPlume">
<em class="property">class </em><code class="descclassname">stratified_plume_model.</code><code class="descname">InnerPlume</code><span class="sig-paren">(</span><em>z0</em>, <em>y0</em>, <em>profile</em>, <em>particles</em>, <em>p</em>, <em>chem_names</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/numpy/numpy/blob/v1.9.2/numpy/../../../../../../../../Dropbox/socolofs/projects/NFBC/tamoc/tamoc/stratified_plume_model.py#L708"><span class="viewcode-link">[source]</span></a><a class="reference internal" href="../_modules/stratified_plume_model.html#InnerPlume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stratified_plume_model.InnerPlume" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages the inner plume state space and derived variables</p>
<p>Manages storage and calculation of the derived variables for the inner
plume as a function of the state space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>z0</strong> : float</p>
<blockquote>
<div><p>Starting depth (m) of the inner plume</p>
</div></blockquote>
<p><strong>y0</strong> : ndarray</p>
<blockquote>
<div><p>Initial conditions for the inner plume.</p>
</div></blockquote>
<p><strong>profile</strong> : <a class="reference internal" href="ambient.html#ambient.Profile" title="ambient.Profile"><code class="xref py py-obj docutils literal"><span class="pre">ambient.Profile</span></code></a> object</p>
<blockquote>
<div><p>The ambient CTD object used by the simulation.</p>
</div></blockquote>
<p><strong>particles</strong> : list of <a class="reference internal" href="disp_phases.html#dispersed_phases.PlumeParticle" title="dispersed_phases.PlumeParticle"><code class="xref py py-obj docutils literal"><span class="pre">dispersed_phases.PlumeParticle</span></code></a> objects</p>
<blockquote>
<div><p>List of <a class="reference internal" href="disp_phases.html#dispersed_phases.PlumeParticle" title="dispersed_phases.PlumeParticle"><code class="xref py py-obj docutils literal"><span class="pre">dispersed_phases.PlumeParticle</span></code></a> objects containing the 
dispersed phase local conditions and behavior.</p>
</div></blockquote>
<p><strong>p</strong> : <a class="reference internal" href="../spm/stratified_plume_model.ModelParams.html#stratified_plume_model.ModelParams" title="stratified_plume_model.ModelParams"><code class="xref py py-obj docutils literal"><span class="pre">ModelParams</span></code></a> object</p>
<blockquote>
<div><p>Object containing the fixed model parameters for the stratified 
plume model.</p>
</div></blockquote>
<p><strong>chem_names</strong> : str list</p>
<blockquote class="last">
<div><p>List of chemical names to track for the dissolution.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>z0</td>
<td>(float) Starting depth (m) of the inner plume</td>
</tr>
<tr class="row-even"><td>y0</td>
<td>(ndarray) Initial conditions for the inner plume</td>
</tr>
<tr class="row-odd"><td>chem_names</td>
<td>(str lit) List of chemical names to track for the dissolution</td>
</tr>
<tr class="row-even"><td>len</td>
<td>(int) Number of variables in the state space vector y</td>
</tr>
<tr class="row-odd"><td>nchems</td>
<td>(int) Number of chemical names to track for the dissolution</td>
</tr>
<tr class="row-even"><td>np</td>
<td>(int) Number of dispersed phase particle objects</td>
</tr>
<tr class="row-odd"><td>z</td>
<td>(float) Current value of the depth (m)</td>
</tr>
<tr class="row-even"><td>y</td>
<td>(ndarray) Current value of the state space vector</td>
</tr>
<tr class="row-odd"><td>Q</td>
<td>(float) Continuous phase volume flux (m^3/s)</td>
</tr>
<tr class="row-even"><td>J</td>
<td>(float) Continuous phase kinematic momentum flux (m^4/s^2)</td>
</tr>
<tr class="row-odd"><td>S</td>
<td>(float) Plume salinity flux (psu m^3/s)</td>
</tr>
<tr class="row-even"><td>H</td>
<td>(float) Continuous phase heat flux (J/s)</td>
</tr>
<tr class="row-odd"><td>M_p</td>
<td>(dict of ndarrays) For integer key: the total mass fluxes (kg/s) of each component in a particle.</td>
</tr>
<tr class="row-even"><td>H_p</td>
<td>(ndarray) Total heat flux for each particle (J/s)</td>
</tr>
<tr class="row-odd"><td>C</td>
<td>(ndarray) Mass flux of dissolved components (kg/s)</td>
</tr>
<tr class="row-even"><td>Ta</td>
<td>(float) Ambient temperature outside the plume (K)</td>
</tr>
<tr class="row-odd"><td>Sa</td>
<td>(float) Ambient salinity outside the plume (psu)</td>
</tr>
<tr class="row-even"><td>P</td>
<td>(float) Local pressure (Pa)</td>
</tr>
<tr class="row-odd"><td>rho_a</td>
<td>(float) Ambient density outside the plume (kg/m^3)</td>
</tr>
<tr class="row-even"><td>ca</td>
<td>(ndarray) Ambient concentrations outside the plume (kg/m^3)</td>
</tr>
<tr class="row-odd"><td>u</td>
<td>(float) Velocity of the continuous phase fluid (m/s)</td>
</tr>
<tr class="row-even"><td>b</td>
<td>(float) Plume half-width (m)</td>
</tr>
<tr class="row-odd"><td>s</td>
<td>(float) Salinity of the plume fluid (psu)</td>
</tr>
<tr class="row-even"><td>T</td>
<td>(float) Temperature of the plume fluid (K)</td>
</tr>
<tr class="row-odd"><td>c</td>
<td>(ndarray) Concentrations of the dissolved components in the plume fluid (kg/m^3)</td>
</tr>
<tr class="row-even"><td>rho</td>
<td>(float) Density of the continuous phase inside the plume (kg/m^3)</td>
</tr>
<tr class="row-odd"><td>xi</td>
<td>(ndarray) Void fraction of each particle object (&#8211;)</td>
</tr>
<tr class="row-even"><td>fb</td>
<td>(ndarray) Buoyant force of each particle object (kg/m^3)</td>
</tr>
<tr class="row-odd"><td>Xi</td>
<td>(float) Total void fraction in the plume (&#8211;)</td>
</tr>
<tr class="row-even"><td>Fb</td>
<td>(float) Total buoyant force of all particles in the plume (??)</td>
</tr>
<tr class="row-odd"><td>Ep</td>
<td>(float) Local peeling flux (m^2/s)</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../spm/stratified_plume_model.InnerPlume.update.html#stratified_plume_model.InnerPlume.update" title="stratified_plume_model.InnerPlume.update"><code class="xref py py-obj docutils literal"><span class="pre">update</span></code></a>(z,&nbsp;y,&nbsp;particles,&nbsp;profile,&nbsp;p)</td>
<td>Update the <a class="reference internal" href="../spm/stratified_plume_model.InnerPlume.html#stratified_plume_model.InnerPlume" title="stratified_plume_model.InnerPlume"><code class="xref py py-obj docutils literal"><span class="pre">InnerPlume</span></code></a> object with the current local conditions</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="stratified_plume_model.OuterPlume">
<em class="property">class </em><code class="descclassname">stratified_plume_model.</code><code class="descname">OuterPlume</code><span class="sig-paren">(</span><em>z0</em>, <em>y0</em>, <em>profile</em>, <em>p</em>, <em>chem_names</em>, <em>bi</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/numpy/numpy/blob/v1.9.2/numpy/../../../../../../../../Dropbox/socolofs/projects/NFBC/tamoc/tamoc/stratified_plume_model.py#L943"><span class="viewcode-link">[source]</span></a><a class="reference internal" href="../_modules/stratified_plume_model.html#OuterPlume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stratified_plume_model.OuterPlume" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages the outer plume state space and derived variables</p>
<p>Manages storage and calculation of the derived variables for the outer
plume as a function of the state space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>z0</strong> : float</p>
<blockquote>
<div><p>Initial depth (m) of the outer plume</p>
</div></blockquote>
<p><strong>y0</strong> : ndarray</p>
<blockquote>
<div><p>Initial values for the outer plume state space.</p>
</div></blockquote>
<p><strong>profile</strong> : <a class="reference internal" href="ambient.html#ambient.Profile" title="ambient.Profile"><code class="xref py py-obj docutils literal"><span class="pre">ambient.Profile</span></code></a> object</p>
<blockquote>
<div><p>The ambient CTD object used by the simulation.</p>
</div></blockquote>
<p><strong>p</strong> : <a class="reference internal" href="../spm/stratified_plume_model.ModelParams.html#stratified_plume_model.ModelParams" title="stratified_plume_model.ModelParams"><code class="xref py py-obj docutils literal"><span class="pre">ModelParams</span></code></a> object</p>
<blockquote>
<div><p>Object containing the fixed model parameters for the stratified 
plume model.</p>
</div></blockquote>
<p><strong>chem_names</strong> : str list</p>
<blockquote>
<div><p>List of chemical names to track for the dissolution.</p>
</div></blockquote>
<p><strong>bi</strong> : float</p>
<blockquote class="last">
<div><p>Half-width of the inner plume (m)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>chem_names</td>
<td>(str list) List is dissolved chemical species to track</td>
</tr>
<tr class="row-even"><td>len</td>
<td>(int) Number of dependent state space variables</td>
</tr>
<tr class="row-odd"><td>nchems</td>
<td>(int) Number of chemical species to track for the dissolution</td>
</tr>
<tr class="row-even"><td>z</td>
<td>(float) Current value of the depth (m)</td>
</tr>
<tr class="row-odd"><td>y</td>
<td>(ndarray) Current value of the state space vector</td>
</tr>
<tr class="row-even"><td>Q</td>
<td>(float) Volume flux of outer plume fluid (m^3/s)</td>
</tr>
<tr class="row-odd"><td>J</td>
<td>(float) Momentum flux of outer plume fluid (m^3/s)</td>
</tr>
<tr class="row-even"><td>S</td>
<td>(float) Salinity flux in the outer plume (psu m^3/s)</td>
</tr>
<tr class="row-odd"><td>H</td>
<td>(float) Heat flux in the outer plume (J/s)</td>
</tr>
<tr class="row-even"><td>C</td>
<td>(ndarray)</td>
</tr>
<tr class="row-odd"><td>Mass flux of dissolved species in the outer plume (kg/s)</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>Ta</td>
<td>(float) Ambient temperature outside the plume (K)</td>
</tr>
<tr class="row-odd"><td>Sa</td>
<td>(float) Ambient salinity outside the plume (psu)</td>
</tr>
<tr class="row-even"><td>P</td>
<td>(float) Local pressure (Pa)</td>
</tr>
<tr class="row-odd"><td>rho_a</td>
<td>(float) Ambient density outside the plume (kg/m^3)</td>
</tr>
<tr class="row-even"><td>ca</td>
<td>(ndarray) Ambient concentrations outside the plume (kg/m^3)</td>
</tr>
<tr class="row-odd"><td>u</td>
<td>(float) Velocity of the outer plume (m/s)</td>
</tr>
<tr class="row-even"><td>b</td>
<td>(float) Half-width of the outer plume (m)</td>
</tr>
<tr class="row-odd"><td>s</td>
<td>(float) Salinity of the outer plume continuous phase fluid (psu)</td>
</tr>
<tr class="row-even"><td>T</td>
<td>(float) Temperature of the outer plume continous phase fluid (K)</td>
</tr>
<tr class="row-odd"><td>c</td>
<td>(ndarray) Concentration of dissolved species in the outer plume fluid (kg/m^2)</td>
</tr>
<tr class="row-even"><td>rho</td>
<td>(float) Density of the outer plume continuous phase fluid (kg/m^3)</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../spm/stratified_plume_model.OuterPlume.update.html#stratified_plume_model.OuterPlume.update" title="stratified_plume_model.OuterPlume.update"><code class="xref py py-obj docutils literal"><span class="pre">update</span></code></a>(z,&nbsp;y,&nbsp;profile,&nbsp;p,&nbsp;bi)</td>
<td>Update the <a class="reference internal" href="../spm/stratified_plume_model.OuterPlume.html#stratified_plume_model.OuterPlume" title="stratified_plume_model.OuterPlume"><code class="xref py py-obj docutils literal"><span class="pre">OuterPlume</span></code></a> object with the current local conditions</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-functions">
<h2>Module Functions<a class="headerlink" href="#module-functions" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../spm/stratified_plume_model.inner_main.html#stratified_plume_model.inner_main" title="stratified_plume_model.inner_main"><code class="xref py py-obj docutils literal"><span class="pre">inner_main</span></code></a>(yi,&nbsp;yo,&nbsp;particles,&nbsp;profile,&nbsp;p,&nbsp;...)</td>
<td>Manage the integration of the inner plume</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../spm/stratified_plume_model.outer_main.html#stratified_plume_model.outer_main" title="stratified_plume_model.outer_main"><code class="xref py py-obj docutils literal"><span class="pre">outer_main</span></code></a>(yi,&nbsp;yo,&nbsp;particles,&nbsp;profile,&nbsp;p,&nbsp;...)</td>
<td>Manage the integration of the outer plume segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../spm/stratified_plume_model.err_check.html#stratified_plume_model.err_check" title="stratified_plume_model.err_check"><code class="xref py py-obj docutils literal"><span class="pre">err_check</span></code></a>(zi,&nbsp;yi,&nbsp;zo,&nbsp;yo,&nbsp;zi_old,&nbsp;yi_old,&nbsp;...)</td>
<td>Computes the error between two solutions of the state space.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../spm/stratified_plume_model.particle_from_Q.html#stratified_plume_model.particle_from_Q" title="stratified_plume_model.particle_from_Q"><code class="xref py py-obj docutils literal"><span class="pre">particle_from_Q</span></code></a>(profile,&nbsp;z0,&nbsp;dbm_particle,&nbsp;...)</td>
<td>Create a <a class="reference internal" href="disp_phases.html#dispersed_phases.PlumeParticle" title="dispersed_phases.PlumeParticle"><code class="xref py py-obj docutils literal"><span class="pre">dispersed_phases.PlumeParticle</span></code></a> object from volume flux</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../spm/stratified_plume_model.particle_from_mb0.html#stratified_plume_model.particle_from_mb0" title="stratified_plume_model.particle_from_mb0"><code class="xref py py-obj docutils literal"><span class="pre">particle_from_mb0</span></code></a>(profile,&nbsp;z0,&nbsp;dbm_particle,&nbsp;...)</td>
<td>Create a <a class="reference internal" href="disp_phases.html#dispersed_phases.PlumeParticle" title="dispersed_phases.PlumeParticle"><code class="xref py py-obj docutils literal"><span class="pre">dispersed_phases.PlumeParticle</span></code></a> object from the mass flux</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../spm/stratified_plume_model.plot_state_space.html#stratified_plume_model.plot_state_space" title="stratified_plume_model.plot_state_space"><code class="xref py py-obj docutils literal"><span class="pre">plot_state_space</span></code></a>(zi,&nbsp;yi,&nbsp;zo,&nbsp;yo,&nbsp;yi_local,&nbsp;...)</td>
<td>Plot the state space for interrogation during model convergence</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../spm/stratified_plume_model.plot_all_variables.html#stratified_plume_model.plot_all_variables" title="stratified_plume_model.plot_all_variables"><code class="xref py py-obj docutils literal"><span class="pre">plot_all_variables</span></code></a>(zi,&nbsp;yi,&nbsp;zo,&nbsp;yo,&nbsp;yi_local,&nbsp;...)</td>
<td>Plot the complete variable suite for model validation and interpretation</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-functions-in-smp">
<h2>Module Functions in <code class="xref py py-obj docutils literal"><span class="pre">smp</span></code><a class="headerlink" href="#module-functions-in-smp" title="Permalink to this headline">¶</a></h2>
<p>The numerical work of the <a class="reference internal" href="#module-stratified_plume_model" title="stratified_plume_model"><code class="xref py py-obj docutils literal"><span class="pre">stratified_plume_model</span></code></a> is segregated into the
<em class="xref py py-obj">simp</em> module with the idea that in the future this module could be moved to
Fortran in order to have a stand-alone solution.  The functions contained
in this module are detailed in the following.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../spm/smp.derivs_inner.html#smp.derivs_inner" title="smp.derivs_inner"><code class="xref py py-obj docutils literal"><span class="pre">derivs_inner</span></code></a>(z,&nbsp;y,&nbsp;yi,&nbsp;yo,&nbsp;particles,&nbsp;...)</td>
<td>Calculate the derivatives for the system of ODEs for the inner plume</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../spm/smp.derivs_outer.html#smp.derivs_outer" title="smp.derivs_outer"><code class="xref py py-obj docutils literal"><span class="pre">derivs_outer</span></code></a>(z,&nbsp;y,&nbsp;yi,&nbsp;yo,&nbsp;particles,&nbsp;...)</td>
<td>Calculate the derivatives for the system of ODEs for the outer plume</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../spm/smp.calculate.html#smp.calculate" title="smp.calculate"><code class="xref py py-obj docutils literal"><span class="pre">calculate</span></code></a>(yi,&nbsp;yo,&nbsp;particles,&nbsp;profile,&nbsp;p,&nbsp;...)</td>
<td>Integrate an inner or outer plume segment from <em class="xref py py-obj">z0</em> to <em class="xref py py-obj">zf</em></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../spm/smp.correct_temperature.html#smp.correct_temperature" title="smp.correct_temperature"><code class="xref py py-obj docutils literal"><span class="pre">correct_temperature</span></code></a>(r,&nbsp;yi,&nbsp;particles,&nbsp;profile,&nbsp;p)</td>
<td>Make sure the correct temperature is stored in the state space solution</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../spm/smp.cp_model.html#smp.cp_model" title="smp.cp_model"><code class="xref py py-obj docutils literal"><span class="pre">cp_model</span></code></a>(epsilon,&nbsp;particles,&nbsp;rho_a,&nbsp;rho,&nbsp;g,&nbsp;...)</td>
<td>Continuous peeling model of Crounse (2000)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../spm/smp.main_ic.html#smp.main_ic" title="smp.main_ic"><code class="xref py py-obj docutils literal"><span class="pre">main_ic</span></code></a>(profile,&nbsp;particles,&nbsp;p,&nbsp;z0,&nbsp;R)</td>
<td>Compute the initial conditions for the inner plume state space</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../spm/smp.inner_plume_ic.html#smp.inner_plume_ic" title="smp.inner_plume_ic"><code class="xref py py-obj docutils literal"><span class="pre">inner_plume_ic</span></code></a>(profile,&nbsp;particles,&nbsp;p,&nbsp;z,&nbsp;Q,&nbsp;...)</td>
<td>Build the inner plume state space given the initial conditions</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../spm/smp.outer_surf.html#smp.outer_surf" title="smp.outer_surf"><code class="xref py py-obj docutils literal"><span class="pre">outer_surf</span></code></a>(yi,&nbsp;p)</td>
<td>Compute the initial condition for the outer plume at the sea surface</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../spm/smp.outer_dis.html#smp.outer_dis" title="smp.outer_dis"><code class="xref py py-obj docutils literal"><span class="pre">outer_dis</span></code></a>(yi,&nbsp;particles,&nbsp;profile,&nbsp;p,&nbsp;...)</td>
<td>Compute the initial condition for the outer plume at the DMPR</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../spm/smp.outer_cpic.html#smp.outer_cpic" title="smp.outer_cpic"><code class="xref py py-obj docutils literal"><span class="pre">outer_cpic</span></code></a>(yi,&nbsp;yo,&nbsp;particles,&nbsp;profile,&nbsp;p,&nbsp;...)</td>
<td>Compute the initial condition for the outer plume at depth</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../spm/smp.outer_fr.html#smp.outer_fr" title="smp.outer_fr"><code class="xref py py-obj docutils literal"><span class="pre">outer_fr</span></code></a>(u_0,&nbsp;Q,&nbsp;bi,&nbsp;rho_a,&nbsp;rho,&nbsp;g,&nbsp;Fr_0)</td>
<td>Compute the outer plume initial width and velocity</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../contents.html">
              <img class="logo" src="../_static/logo_holder.png" alt="Logo"/>
            </a></p>
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Overview of Stratified Plume Model Module</a><ul>
<li><a class="reference internal" href="#stratified-plume-model">Stratified Plume Model</a><ul>
<li><a class="reference internal" href="#notes">Notes</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#class-objects">Class Objects</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-functions">Module Functions</a></li>
<li><a class="reference internal" href="#module-functions-in-smp">Module Functions in <code class="docutils literal"><span class="pre">smp</span></code></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../sbm/single_bubble_model.plot_state_space.html"
                        title="previous chapter">single_bubble_model.plot_state_space</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/modules/spm.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<ul class="this-page-menu">
  <li><a href="/numpy/docs/numpy-docs/modules/spm.rst">Edit page</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Scott A. Socolofsky.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.3</a>
      
      |
      <a href="../_sources/modules/spm.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>